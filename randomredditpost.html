<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max));
        }

        function fetchPosts() {
            subreddit=document.getElementById("subreddit-select").value
            console.log(subreddit)
            cat=document.getElementById("cat-select").value
            console.log(cat)


            fetch(`https://www.reddit.com/r/${subreddit}/${cat}/.json?count=20`)
                .then(res => res.json())
                .then((json) => {
                    let n = getRandomInt(20);
                    console.log(n);
                    document.getElementById("image").src=json.data.children[n].data.url;

                });


        }



    </script>
    <link rel="stylesheet" type="text/css" href="headerfooter.css">
    <script src="https://kit.fontawesome.com/9e1096e656.js" crossorigin="anonymous"></script>

    <script>
        fetch('footer.html')
            .then(function (response) {

                return response.text();

            })
            .then(function (body) {
                document.getElementById('footer').innerHTML=body;

            })

        fetch('header.html')
            .then(function (response) {
                return response.text();

            })
            .then(function (body) {
                document.getElementById("header").innerHTML=body;

            })
    </script>
</head>
<body>
<div id="header" class="header"></div>
<label for="subreddit-select"></label>
<select name="subreddit" id="subreddit-select">
    <option value="">--Choississez une option--</option>
    <option value="ShitPostCrusaders">ShitPostCrusaders</option>
    <option value="meme">meme</option>
    <option value="dankmemes">dankmemes</option>
    <option value="HistoryMemes">HistoryMemes</option>
    <option value="Animemes">Animemes</option>
    <option value="funny">funny</option>
</select>

<label for="cat-select"></label>
<select name="cat" id="cat-select">
    <option value="">--Choississez une option--</option>
    <option value="new">New</option>
    <option value="hot">hot</option>
    <option value="top">top</option>

</select>


<button type="button" id="buton" onclick="fetchPosts()">chercher</button>
<img src="" id="image" sizes="(max-width: 500px) 100vw, (max-width: 900px) 50vw, 800px" >
<p id="text"></p>
<div id="footer" class="footer"></div>
</body>
</html>